@using AspireResourceExtensionsAspire
@inherits RazorBlade.PlainTextTemplate<MyAppResource>

erDiagram
@foreach (var resource in Model.resources.Keys)
{
<text>
@(MermaidName(resource)){
    Name @MermaidName(resource)
}
</text>
}

@foreach (var relation in Model.relationResources)
{

<text>
        @($"{MermaidName(relation.fromResource.Name)} || --o{{ {MermaidName(relation.toResource.Name)} : {MermaidName(relation.relationName)}")
</text>

}


@functions{
    string MermaidName(string name)
    {
        return name.Replace("-", "");
    }
}